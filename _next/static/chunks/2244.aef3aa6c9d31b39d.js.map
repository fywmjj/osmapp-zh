{"version":3,"file":"static/chunks/2244.aef3aa6c9d31b39d.js","mappings":"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","sources":["webpack://_N_E/./src/components/Map/behaviour/PersistedScaleControl.ts","webpack://_N_E/./src/components/FeaturePanel/EditDialog/EditContent/FeatureEditSection/LocationEditor/isGpsValid.tsx","webpack://_N_E/./src/components/FeaturePanel/EditDialog/EditContent/FeatureEditSection/LocationEditor/useStaticMarkers.tsx","webpack://_N_E/./src/components/FeaturePanel/EditDialog/EditContent/FeatureEditSection/LocationEditor/getTmpNodePosition.ts","webpack://_N_E/./src/components/FeaturePanel/EditDialog/EditContent/FeatureEditSection/LocationEditor/useDraggableMarker.ts","webpack://_N_E/./src/components/FeaturePanel/EditDialog/EditContent/FeatureEditSection/LocationEditor/useUpdateCenter.ts","webpack://_N_E/./src/components/FeaturePanel/EditDialog/EditContent/FeatureEditSection/LocationEditor/useInitEditFeatureMap.ts","webpack://_N_E/./node_modules/@mui/icons-material/esm/Layers.js","webpack://_N_E/./src/components/FeaturePanel/EditDialog/EditContent/FeatureEditSection/LocationEditor/getMapStyle.tsx","webpack://_N_E/./src/components/FeaturePanel/EditDialog/EditContent/FeatureEditSection/LocationEditor/LocationInputs.tsx","webpack://_N_E/./src/components/FeaturePanel/EditDialog/EditContent/FeatureEditSection/LocationEditor/EditFeatureMap.tsx"],"sourcesContent":["import { Map, ScaleControl } from 'maplibre-gl';\nimport { useUserSettingsContext } from '../../utils/userSettings/UserSettingsContext';\nimport { useEffect, MutableRefObject } from 'react';\n\n// https://github.com/maplibre/maplibre-gl-js/blob/afe4377706429a6b4e708e62a3c39a795ae8f28e/src/ui/control/scale_control.js#L36-L83\n\nclass ClickableScaleControl extends ScaleControl {\n  private onClick: () => void;\n\n  private getHoverText: () => string;\n\n  constructor({ onClick, getHoverText, ...options }) {\n    super(options);\n    this.onClick = onClick;\n    this.getHoverText = getHoverText;\n  }\n\n  onAdd(map: Map) {\n    const control = super.onAdd(map);\n    control.addEventListener('click', this.onClick);\n    control.setAttribute('style', 'cursor: pointer');\n\n    control.addEventListener('mouseover', () =>\n      this.setText(this.getHoverText()),\n    );\n    control.addEventListener('mouseout', () => this._onMove()); // eslint-disable-line no-underscore-dangle\n\n    return control;\n  }\n\n  private setText(text: string) {\n    this._container.innerHTML = text; // eslint-disable-line no-underscore-dangle\n  }\n}\n\nexport const usePersistedScaleControl = (\n  mapRef: MutableRefObject<Map | null>,\n  isReady: boolean,\n) => {\n  const { userSettings, setUserSetting } = useUserSettingsContext();\n  const { isImperial } = userSettings;\n\n  useEffect(() => {\n    const map = mapRef.current;\n    if (!isReady || !map) return;\n\n    const scaleControl = new ClickableScaleControl({\n      maxWidth: 80,\n      unit: isImperial ? 'imperial' : 'metric',\n      onClick: () => setUserSetting('isImperial', !isImperial),\n      getHoverText: () => (isImperial ? 'km' : 'mile'),\n    });\n\n    try {\n      map.addControl(scaleControl, 'bottom-right');\n    } catch {}\n\n    return () => {\n      try {\n        map.removeControl(scaleControl);\n      } catch {}\n    };\n  }, [mapRef, isReady, isImperial, setUserSetting]);\n};\n","import { LonLat } from '../../../../../../services/types';\nexport const isGpsValid = (nodeLonLat: LonLat) => {\n  if (!nodeLonLat) return false;\n  const [lon, lat] = nodeLonLat;\n  return lat >= -90 && lat <= 90 && lon >= -180 && lon <= 180;\n};","import React, { useRef } from 'react';\nimport ReactDOM from 'react-dom/client';\nimport maplibregl from 'maplibre-gl';\nimport { Button, Stack, Typography } from '@mui/material';\nimport { createMapEffectHook } from '../../../../../helpers';\nimport { t } from '../../../../../../services/intl';\nimport { isGpsValid } from './isGpsValid';\nimport { useEditContext } from '../../../context/EditContext';\nimport { Setter } from '../../../../../../types';\nimport { EditDataItem } from '../../../context/types';\nconst GRAY_MARKER = {\n  color: '#555',\n  opacity: '0.4'\n};\nconst useUpdateFeatureMarkers = createMapEffectHook<[{\n  markerRefs: React.MutableRefObject<maplibregl.Marker[]>;\n  items: EditDataItem[];\n  setCurrent: Setter<string>;\n  current: string;\n}]>((map, {\n  items,\n  markerRefs,\n  setCurrent,\n  current\n}) => {\n  markerRefs.current.forEach(m => m.remove());\n  markerRefs.current = [];\n  items.forEach(item => {\n    if (!isGpsValid(item.nodeLonLat) || item.shortId === current || item.shortId[0] !== 'n') {\n      return;\n    }\n    const [lng, lat] = item.nodeLonLat;\n    const marker = new maplibregl.Marker(GRAY_MARKER).setLngLat({\n      lng,\n      lat\n    }).addTo(map);\n    const popupContainer = document.createElement('div');\n    const MyPopupContent = () => {\n      return <Stack direction=\"column\" gap={2} data-sentry-element=\"Stack\" data-sentry-component=\"MyPopupContent\" data-sentry-source-file=\"useStaticMarkers.tsx\">\n          <Typography variant=\"subtitle2\" color=\"primary\" data-sentry-element=\"Typography\" data-sentry-source-file=\"useStaticMarkers.tsx\">\n            {item.tags?.name || item.shortId}\n          </Typography>\n          <Button size=\"small\" variant=\"contained\" onClick={() => setCurrent(item.shortId)} data-sentry-element=\"Button\" data-sentry-source-file=\"useStaticMarkers.tsx\">\n            {t('editdialog.location_change_current_item')}\n          </Button>\n        </Stack>;\n    };\n    const root = ReactDOM.createRoot(popupContainer);\n    root.render(<MyPopupContent />);\n    const popup = new maplibregl.Popup({\n      offset: 25\n    }).setDOMContent(popupContainer);\n    marker.setPopup(popup);\n    markerRefs.current.push(marker);\n  });\n});\nexport function useFeatureMarkers(mapRef: React.MutableRefObject<maplibregl.Map>) {\n  const {\n    current,\n    items,\n    setCurrent\n  } = useEditContext();\n  const markerRefs = useRef<maplibregl.Marker[]>([]);\n  useUpdateFeatureMarkers(mapRef.current, {\n    markerRefs,\n    items,\n    setCurrent,\n    current\n  });\n}","import { DataItem } from '../../../context/types';\nimport { findInItems } from '../../../context/utils';\nimport { getOsmElement } from '../../../../../../services/osm/quickFetchFeature';\nimport { getApiId } from '../../../../../../services/helpers';\nimport { LonLat } from '../../../../../../services/types';\nimport { getGlobalMap } from '../../../../../../services/mapStorage';\n\nconst getParent = (items: DataItem[], shortId: string) =>\n  items\n    .filter((item) => item.shortId[0] === 'r')\n    .find((item) => item.members?.some((member) => member.shortId === shortId));\n\nconst isNodeOrWay = ({ shortId }) => ['n', 'w'].includes(shortId[0]);\n\nconst getMapCenter = (): LonLat => getGlobalMap().getCenter().toArray();\n\nconst isExisting = (shortId: string) => !shortId.includes('-');\n\nconst getNodeOrWayPoint = async (shortId: string): Promise<LonLat> => {\n  const element = await getOsmElement(getApiId(shortId));\n  if (shortId[0] === 'n') {\n    return [element.lon, element.lat];\n  }\n\n  if (shortId[0] === 'w') {\n    if (element.nodes?.length > 0) {\n      const firstNode = await getOsmElement({\n        type: 'node',\n        id: element.nodes[0],\n      });\n      return [firstNode.lon, firstNode.lat];\n    }\n  }\n\n  return undefined;\n};\n\nconst getPositionFromMembers = async (items: DataItem[], parent: DataItem) => {\n  const membersBackwards = parent.members.filter(isNodeOrWay).toReversed();\n  if (!membersBackwards.length) {\n    return undefined;\n  }\n\n  for (const member of membersBackwards) {\n    const item = findInItems(items, member.shortId);\n    if (item?.nodeLonLat) {\n      return item.nodeLonLat;\n    }\n    if (isExisting(member.shortId)) {\n      return await getNodeOrWayPoint(member.shortId);\n    }\n  }\n};\n\nconst getNextNodePosition = async (items: DataItem[], shortId: string) => {\n  const parent = getParent(items, shortId);\n  if (!parent) {\n    return undefined;\n  }\n\n  const location = await getPositionFromMembers(items, parent);\n  const moved = location?.map((x) => x + 0.00005) as LonLat; // +- 5m\n\n  return moved ?? parent.relationClickedLonLat; // may be also undefined\n};\n\nexport const getTmpNodePosition = async (items: DataItem[], shortId: string) =>\n  (await getNextNodePosition(items, shortId)) ?? getMapCenter();\n\n// TODO test cases:\n// convertedRelation empty - returns clicked...\n// convertedRelation first node without lonLat - returns click\n// convertedRelation first node with lonLat - returns it\n// existing relation with existing node + new node\n// existing relation with existing way + new node\n","import React, { useEffect, useRef } from 'react';\nimport maplibregl, { LngLat, MarkerOptions } from 'maplibre-gl';\nimport { useCurrentItem, useEditContext } from '../../../context/EditContext';\nimport { getTmpNodePosition } from './getTmpNodePosition';\n\nconst svgHtml = `\n<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"27\" height=\"41\" display=\"block\">\n    <g transform=\"translate(3 29)\">\n        <ellipse cx=\"10.5\" cy=\"5.8\" opacity=\".04\" rx=\"10.5\" ry=\"5.25\"/>\n        <ellipse cx=\"10.5\" cy=\"5.8\" opacity=\".04\" rx=\"10.5\" ry=\"5.25\"/>\n        <ellipse cx=\"10.5\" cy=\"5.8\" opacity=\".04\" rx=\"9.5\" ry=\"4.773\"/>\n        <ellipse cx=\"10.5\" cy=\"5.8\" opacity=\".04\" rx=\"8.5\" ry=\"4.295\"/>\n        <ellipse cx=\"10.5\" cy=\"5.8\" opacity=\".04\" rx=\"7.5\" ry=\"3.818\"/>\n        <ellipse cx=\"10.5\" cy=\"5.8\" opacity=\".04\" rx=\"6.5\" ry=\"3.341\"/>\n        <ellipse cx=\"10.5\" cy=\"5.8\" opacity=\".04\" rx=\"5.5\" ry=\"2.864\"/>\n        <ellipse cx=\"10.5\" cy=\"5.8\" opacity=\".04\" rx=\"4.5\" ry=\"2.386\"/>\n    </g>\n    <path fill=\"salmon\"\n          d=\"M27 13.5c0 5.575-6.75 13.5-12.25 21-.733 1-1.767 1-2.5 0C6.75 27 0 19.223 0 13.5 0 6.044 6.044 0 13.5 0S27 6.044 27 13.5Z\"/>\n    <path d=\"M13.5 0C6.044 0 0 6.044 0 13.5c0 5.723 6.75 13.5 12.25 21 .75 1.023 1.767 1 2.5 0C20.25 27 27 19.075 27 13.5 27 6.044 20.956 0 13.5 0Zm0 1C20.415 1 26 6.585 26 13.5c0 2.399-1.504 5.681-3.78 9.238-2.274 3.557-5.515 7.404-8.277 11.17-.2.273-.33.415-.443.533a4.934 4.934 0 0 1-.443-.533c-2.773-3.78-5.642-7.594-8.041-11.135C2.616 19.233 1 15.953 1 13.5 1 6.585 6.585 1 13.5 1Z\"\n          opacity=\".25\"/>\n    <path d=\"m13.825 4.872 3.44 3.561-1.147 1.187-1.482-1.534v4.573h4.573l-1.535-1.482 1.187-1.147 3.561 3.44-3.56 3.438-1.188-1.146 1.535-1.482h-4.573v4.573l1.482-1.535 1.146 1.187-3.439 3.561-3.439-3.56 1.147-1.188 1.482 1.535V14.28H8.44l1.535 1.482-1.187 1.146-3.561-3.439 3.561-3.439 1.187 1.147-1.535 1.482h4.574V8.086L11.533 9.62l-1.147-1.187Z\"\n          fill=\"#fff\"/>\n</svg>`;\n\nconst markerWithArrows = document.createElement('div');\nmarkerWithArrows.style.width = '27px';\nmarkerWithArrows.style.height = '41px';\nmarkerWithArrows.style.zIndex = '999';\nmarkerWithArrows.innerHTML = svgHtml;\n\nconst MAIN_MARKER: MarkerOptions = {\n  draggable: true,\n  element: markerWithArrows,\n  offset: [0, -14],\n};\n\nexport function useDraggableFeatureMarker(\n  mapRef: React.MutableRefObject<maplibregl.Map>,\n) {\n  const map = mapRef.current;\n  const { items } = useEditContext();\n  const { nodeLonLat, setNodeLonLat, shortId } = useCurrentItem();\n  const markerRef = useRef<maplibregl.Marker>();\n\n  useEffect(() => {\n    (async () => {\n      if (!map) {\n        return;\n      }\n\n      markerRef.current?.remove();\n      markerRef.current = undefined;\n\n      const tmpPos = nodeLonLat ?? (await getTmpNodePosition(items, shortId));\n      if (tmpPos) {\n        markerRef.current = new maplibregl.Marker(MAIN_MARKER)\n          .setLngLat(tmpPos)\n          .addTo(map);\n        map.easeTo({ center: tmpPos });\n\n        markerRef.current.on('dragend', () => {\n          setNodeLonLat(markerRef.current?.getLngLat().toArray());\n        });\n      }\n    })();\n  }, [items, map, nodeLonLat, setNodeLonLat, shortId]);\n\n  const onMarkerChange = ({ lng, lat }: LngLat) => {\n    setNodeLonLat([lng, lat]);\n  };\n\n  return { onMarkerChange };\n}\n","import { useEffect, useCallback, useRef } from 'react';\nimport { Map } from 'maplibre-gl';\nimport { useCurrentItem } from '../../../context/EditContext';\nimport { isGpsValid } from './isGpsValid';\nimport { LonLat } from '../../../../../../services/types';\n\nexport const useUpdateCenter = (mapRef: React.MutableRefObject<Map | null>) => {\n  const { nodeLonLat } = useCurrentItem();\n  const lastCentered = useRef<LonLat | null>(null);\n\n  const updateCenter = useCallback(() => {\n    const center = nodeLonLat;\n    if (!center || !isGpsValid(center)) return;\n\n    if (\n      !lastCentered.current ||\n      lastCentered.current[0] !== center[0] ||\n      lastCentered.current[1] !== center[1]\n    ) {\n      mapRef.current?.easeTo({ center });\n      lastCentered.current = center;\n    }\n  }, [mapRef, nodeLonLat]);\n\n  useEffect(() => {\n    if (!mapRef.current) return;\n\n    const map = mapRef.current;\n    map.on('load', updateCenter);\n\n    return () => {\n      map.off('load', updateCenter);\n    };\n  }, [mapRef, updateCenter]);\n\n  useEffect(updateCenter, [updateCenter]);\n};\n","import { useState, useEffect, useRef } from 'react';\nimport maplibregl from 'maplibre-gl';\nimport { outdoorStyle } from '../../../../../Map/styles/outdoorStyle';\nimport { COMPASS_TOOLTIP } from '../../../../../Map/useAddTopRightControls';\nimport { useCurrentItem, useEditContext } from '../../../context/EditContext';\nimport { useFeatureMarkers } from './useStaticMarkers';\nimport { useDraggableFeatureMarker } from './useDraggableMarker';\nimport { getGlobalMap } from '../../../../../../services/mapStorage';\nimport { usePersistedScaleControl } from '../../../../../Map/behaviour/PersistedScaleControl';\nimport { useUpdateCenter } from './useUpdateCenter';\n\nconst GEOLOCATION_CONTROL = new maplibregl.GeolocateControl({\n  positionOptions: { enableHighAccuracy: true },\n  fitBoundsOptions: { duration: 4000 },\n  trackUserLocation: true,\n});\n\nconst getMapCenter = () => getGlobalMap().getCenter().toArray();\n\nexport function useInitEditFeatureMap() {\n  const containerRef = useRef<HTMLDivElement>(null);\n  const mapRef = useRef<maplibregl.Map | null>(null);\n  const [isMapLoaded, setIsMapLoaded] = useState(false);\n\n  const { current } = useEditContext();\n  const currentItem = useCurrentItem();\n\n  useFeatureMarkers(mapRef);\n  const { onMarkerChange } = useDraggableFeatureMarker(mapRef);\n\n  useEffect(() => {\n    if (!containerRef.current) return;\n\n    setIsMapLoaded(false);\n\n    const map = new maplibregl.Map({\n      container: containerRef.current,\n      style: outdoorStyle,\n      attributionControl: false,\n      refreshExpiredTiles: false,\n      zoom: 18,\n      center: getMapCenter(),\n      locale: {\n        'NavigationControl.ResetBearing': COMPASS_TOOLTIP,\n      },\n    });\n\n    map.scrollZoom.setWheelZoomRate(1 / 200);\n    map.addControl(GEOLOCATION_CONTROL);\n\n    mapRef.current = map;\n\n    const handleLoad = () => setIsMapLoaded(true);\n    map.on('load', handleLoad);\n\n    return () => {\n      map.off('load', handleLoad);\n      map.remove();\n      mapRef.current = null;\n    };\n  }, [containerRef, current]);\n\n  useUpdateCenter(mapRef);\n\n  usePersistedScaleControl(mapRef, isMapLoaded);\n\n  return {\n    containerRef,\n    isMapLoaded,\n    currentItem,\n    onMarkerChange,\n    mapRef,\n  };\n}\n","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"m11.99 18.54-7.37-5.73L3 14.07l9 7 9-7-1.63-1.27zM12 16l7.36-5.73L21 9l-9-7-9 7 1.63 1.27z\"\n}), 'Layers');","import { outdoorStyle } from '../../../../../Map/styles/outdoorStyle';\nconst apiKey = process.env.NEXT_PUBLIC_API_KEY_MAPTILER;\nexport const getMapStyle = mapStyle => {\n  if (mapStyle === 'satellite') {\n    return `https://api.maptiler.com/maps/hybrid/style.json?key=${apiKey}`;\n  }\n  return outdoorStyle;\n};","import { useCurrentItem } from '../../../context/EditContext';\nimport React, { useEffect, useRef, useState } from 'react';\nimport { LonLat } from '../../../../../../services/types';\nimport { Stack, TextField } from '@mui/material';\nimport { t } from '../../../../../../services/intl';\nconst isNumeric = (val: string) => {\n  const str = val.replace(/(\\.\\d*?)0*$/, '$1').replace(/\\.$/, '').replace(/^0*(\\d)/, '$1');\n  const num = `${parseFloat(val)}`;\n  return str === num;\n};\nconst LonInput = (props: {\n  value: string;\n  onChange: (e: React.ChangeEvent<HTMLInputElement>) => void;\n  lonError: boolean;\n}) => <TextField label={t('editdialog.location_longitude')} variant=\"outlined\" value={props.value} onChange={props.onChange} size=\"small\" error={props.value && props.lonError} data-sentry-element=\"TextField\" data-sentry-component=\"LonInput\" data-sentry-source-file=\"LocationInputs.tsx\" />;\nconst LatInput = (props: {\n  value: string;\n  onChange: (e: React.ChangeEvent<HTMLInputElement>) => void;\n  latError: boolean;\n}) => <TextField label={t('editdialog.location_latitude')} variant=\"outlined\" value={props.value} onChange={props.onChange} size=\"small\" error={props.value && props.latError} data-sentry-element=\"TextField\" data-sentry-component=\"LatInput\" data-sentry-source-file=\"LocationInputs.tsx\" />;\nexport const LocationInputs = () => {\n  const {\n    nodeLonLat,\n    setNodeLonLat\n  } = useCurrentItem();\n  const [latError, setLatError] = useState(false);\n  const [lat, setLat] = useState<string>(`${nodeLonLat?.[0] || ''}`);\n  const [lonError, setLonError] = useState(false);\n  const [lon, setLon] = useState<string>(`${nodeLonLat?.[1] || ''}`);\n  const updatedFromHere = useRef<LonLat>();\n  useEffect(() => {\n    if (nodeLonLat && updatedFromHere.current !== nodeLonLat) {\n      setLat(`${nodeLonLat[1] || ''}`);\n      setLon(`${nodeLonLat[0] || ''}`);\n    }\n  }, [nodeLonLat]);\n  const onChange = (lon: string, lat: string) => {\n    const pos = [lon, lat];\n    if (pos.every(isNumeric)) {\n      const toBeSet = pos.map(parseFloat) as LonLat;\n      setNodeLonLat(toBeSet);\n      updatedFromHere.current = toBeSet;\n      setLonError(false);\n      setLatError(false);\n    } else {\n      if (!isNumeric(lon)) setLonError(true);\n      if (!isNumeric(lat)) setLatError(true);\n    }\n  };\n  const changeLon = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setLon(e.target.value);\n    onChange(e.target.value, lat);\n  };\n  const changeLat = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setLat(e.target.value);\n    onChange(lon, e.target.value);\n  };\n  return <Stack direction=\"row\" mt={2} gap={1} data-sentry-element=\"Stack\" data-sentry-component=\"LocationInputs\" data-sentry-source-file=\"LocationInputs.tsx\">\n      <LatInput value={lat} onChange={changeLat} latError={latError} data-sentry-element=\"LatInput\" data-sentry-source-file=\"LocationInputs.tsx\" />\n      <LonInput value={lon} onChange={changeLon} lonError={lonError} data-sentry-element=\"LonInput\" data-sentry-source-file=\"LocationInputs.tsx\" />\n    </Stack>;\n};","import React, { useEffect } from 'react';\nimport { Alert, Chip, CircularProgress } from '@mui/material';\nimport styled from '@emotion/styled';\nimport { useInitEditFeatureMap } from './useInitEditFeatureMap';\nimport LayersIcon from '@mui/icons-material/Layers';\nimport { getMapStyle } from './getMapStyle';\nimport { useCurrentItem } from '../../../context/EditContext';\nimport { LocationInputs } from './LocationInputs';\nimport { t } from '../../../../../../services/intl';\nconst Container = styled.div`\n  height: 500px;\n  position: relative;\n  overflow: hidden;\n  left: -30px;\n  width: calc(100% + 60px);\n  border-radius: 3px;\n`;\nconst LoadingContainer = styled.div`\n  height: 100%;\n  width: 100%;\n  position: absolute;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\nconst Map = styled.div<{\n  $isVisible: boolean;\n}>`\n  visibility: ${({\n  $isVisible\n}) => $isVisible ? 'visible' : 'hidden'};\n  height: 100%;\n  width: 100%;\n`;\nconst MapStyle = styled.div`\n  position: absolute;\n  top: 4px;\n  right: 4px;\n`;\nconst StyledAlert = styled(Alert)`\n  position: absolute;\n  bottom: 8px;\n  left: 50%;\n  transform: translateX(-50%);\n`;\nconst NoLocationAlert = () => <StyledAlert severity=\"info\" data-sentry-element=\"StyledAlert\" data-sentry-component=\"NoLocationAlert\" data-sentry-source-file=\"EditFeatureMap.tsx\">{t('editdialog.no_location_alert')}</StyledAlert>;\nconst EditFeatureMap = ({\n  mapStyle,\n  setMapStyle\n}) => {\n  const {\n    containerRef,\n    isMapLoaded,\n    mapRef\n  } = useInitEditFeatureMap();\n  useEffect(() => {\n    const style = getMapStyle(mapStyle);\n    mapRef.current.setStyle(style);\n  }, [mapStyle, mapRef]);\n  const {\n    shortId,\n    nodeLonLat\n  } = useCurrentItem();\n  const isNode = shortId[0] === 'n';\n  if (!isNode) return null;\n  const switchMapStyle = () => {\n    if (mapStyle === 'outdoor') {\n      setMapStyle('satellite');\n    } else {\n      setMapStyle('outdoor');\n    }\n  };\n  return <>\n      <Container data-sentry-element=\"Container\" data-sentry-source-file=\"EditFeatureMap.tsx\">\n        {!isMapLoaded && <LoadingContainer>\n            <CircularProgress color=\"primary\" />\n          </LoadingContainer>}\n        <Map className=\"edit-feature-map\" $isVisible={isMapLoaded} ref={containerRef} data-sentry-element=\"Map\" data-sentry-source-file=\"EditFeatureMap.tsx\" />\n        <MapStyle data-sentry-element=\"MapStyle\" data-sentry-source-file=\"EditFeatureMap.tsx\">\n          <Chip component=\"button\" label={mapStyle} icon={<LayersIcon />} onClick={switchMapStyle} color=\"secondary\" data-sentry-element=\"Chip\" data-sentry-source-file=\"EditFeatureMap.tsx\" />\n        </MapStyle>\n\n        {nodeLonLat === undefined && <NoLocationAlert />}\n      </Container>\n\n      <LocationInputs key={shortId} data-sentry-element=\"LocationInputs\" data-sentry-source-file=\"EditFeatureMap.tsx\" />\n    </>;\n};\nexport default EditFeatureMap;"],"names":["ClickableScaleControl","ScaleControl","onAdd","map","control","addEventListener","onClick","setAttribute","setText","getHoverText","_onMove","text","_container","innerHTML","constructor","options","usePersistedScaleControl","mapRef","isReady","userSettings","setUserSetting","useUserSettingsContext","isImperial","useEffect","current","scaleControl","maxWidth","unit","addControl","removeControl","isGpsValid","nodeLonLat","lon","lat","color","opacity","useUpdateFeatureMarkers","createMapEffectHook","items","markerRefs","setCurrent","forEach","m","remove","item","shortId","lng","marker","maplibregl","GRAY_MARKER","setLngLat","addTo","popupContainer","document","createElement","ReactDOM","render","Stack","direction","gap","data-sentry-element","data-sentry-component","data-sentry-source-file","Typography","variant","tags","name","Button","size","t","MyPopupContent","popup","offset","setDOMContent","setPopup","push","getParent","filter","find","members","some","member","isNodeOrWay","includes","getMapCenter","getGlobalMap","getCenter","toArray","isExisting","getNodeOrWayPoint","element","getOsmElement","getApiId","nodes","length","firstNode","type","id","getPositionFromMembers","parent","membersBackwards","toReversed","findInItems","getNextNodePosition","undefined","location","moved","x","relationClickedLonLat","markerWithArrows","style","width","height","zIndex","svgHtml","MAIN_MARKER","draggable","useUpdateCenter","useCurrentItem","lastCentered","useRef","updateCenter","useCallback","center","easeTo","on","off","positionOptions","enableHighAccuracy","fitBoundsOptions","duration","trackUserLocation","createSvgIcon","_jsx","d","getMapStyle","mapStyle","process","outdoorStyle","isNumeric","val","replace","num","parseFloat","LonInput","TextField","label","value","props","onChange","error","lonError","LatInput","latError","LocationInputs","setNodeLonLat","setLatError","useState","setLat","setLonError","setLon","updatedFromHere","pos","every","toBeSet","mt","changeLat","e","target","changeLon","styled","LoadingContainer","Map","$isVisible","MapStyle","StyledAlert","Alert","NoLocationAlert","severity","EditFeatureMap","setMapStyle","containerRef","isMapLoaded","useInitEditFeatureMap","setIsMapLoaded","useEditContext","currentItem","onMarkerChange","useDraggableFeatureMarker","markerRef","tmpPos","getTmpNodePosition","getLngLat","container","attributionControl","refreshExpiredTiles","zoom","locale","COMPASS_TOOLTIP","scrollZoom","setWheelZoomRate","GEOLOCATION_CONTROL","handleLoad","setStyle","isNode","Container","CircularProgress","className","ref","Chip","component","icon","LayersIcon","switchMapStyle"],"sourceRoot":""}
{"version":3,"file":"static/chunks/2700.27674c175da1a55f.js","mappings":"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","sources":["webpack://_N_E/./node_modules/@mui/icons-material/esm/PersonAdd.js","webpack://_N_E/./src/components/LayerSwitcher/helpers.tsx","webpack://_N_E/./node_modules/@mui/material/esm/ListItemButton/ListItemButton.js","webpack://_N_E/./src/components/LayerSwitcher/Overlays.tsx","webpack://_N_E/./src/components/LayerSwitcher/helpers/loadLayers.ts","webpack://_N_E/./node_modules/@mui/material/esm/FormGroup/formGroupClasses.js","webpack://_N_E/./node_modules/@mui/material/esm/FormGroup/FormGroup.js","webpack://_N_E/./src/components/LayerSwitcher/SuccessLayerInput.tsx","webpack://_N_E/./src/components/LayerSwitcher/AddCustomLayer.tsx","webpack://_N_E/./src/components/LayerSwitcher/AddLayerButton.tsx","webpack://_N_E/./src/components/LayerSwitcher/BaseLayers.tsx","webpack://_N_E/./src/components/LayerSwitcher/LayerSwitcherContent.tsx","webpack://_N_E/./src/components/LayerSwitcher/LayerSwitcher.tsx"],"sourcesContent":["\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m-9-2V7H4v3H1v2h3v3h2v-3h3v-2zm9 4c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4\"\n}), 'PersonAdd');","import React from 'react';\nimport styled from '@emotion/styled';\nimport { Box, IconButton, Typography, List, ListItemIcon } from '@mui/material';\nimport CloseIcon from '@mui/icons-material/Close';\nimport { LayerIcon as LayerIconType, View, useMapStateContext } from '../utils/MapStateContext';\nimport { t, Translation } from '../../services/intl';\ntype RemoveUserLayerActionProps = {\n  url: string;\n};\nexport const RemoveUserLayerAction = ({\n  url\n}: RemoveUserLayerActionProps) => {\n  const {\n    activeLayers,\n    setActiveLayers,\n    setUserLayers\n  } = useMapStateContext();\n  const onClick = (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\n    e.stopPropagation();\n    setUserLayers(current => {\n      if (activeLayers.includes(url)) {\n        setActiveLayers(['basic']);\n      }\n      return [...current.filter(item => item.url !== url)];\n    });\n    return false;\n  };\n  return <IconButton edge=\"end\" aria-label=\"close\" onClick={onClick} data-sentry-element=\"IconButton\" data-sentry-component=\"RemoveUserLayerAction\" data-sentry-source-file=\"helpers.tsx\">\n      <CloseIcon fontSize=\"small\" data-sentry-element=\"CloseIcon\" data-sentry-source-file=\"helpers.tsx\" />\n    </IconButton>;\n};\nexport const LayersHeader = () => <>\n    <Box m={2} data-sentry-element=\"Box\" data-sentry-source-file=\"helpers.tsx\">\n      <Typography variant=\"h5\" color=\"textPrimary\" data-sentry-element=\"Typography\" data-sentry-source-file=\"helpers.tsx\">\n        {t('layerswitcher.heading')}\n      </Typography>\n    </Box>\n\n    <Box m={2} data-sentry-element=\"Box\" data-sentry-source-file=\"helpers.tsx\">\n      <Typography variant=\"body2\" color=\"textSecondary\" data-sentry-element=\"Typography\" data-sentry-source-file=\"helpers.tsx\">\n        <Translation id=\"layerswitcher.intro\" data-sentry-element=\"Translation\" data-sentry-source-file=\"helpers.tsx\" />\n      </Typography>\n    </Box>\n  </>;\nexport const LayerIcon = ({\n  Icon\n}: {\n  Icon: LayerIconType;\n}) => <ListItemIcon data-sentry-element=\"ListItemIcon\" data-sentry-component=\"LayerIcon\" data-sentry-source-file=\"helpers.tsx\">{Icon && <Icon fontSize=\"small\" />}</ListItemIcon>;\nexport const StyledList = styled(List)`\n  .MuiListItemIcon-root {\n    min-width: 45px;\n\n    svg {\n      color: ${({\n  theme\n}) => theme.palette.action.disabled};\n    }\n  }\n\n  .Mui-selected {\n    .MuiListItemIcon-root svg {\n      color: ${({\n  theme\n}) => theme.palette.action.active};\n    }\n  }\n`;\nexport const Spacer = styled.div`\n  padding-bottom: 1.5em;\n`;\nexport const isViewInsideBbox = ([, lat, lon]: View, bbox?: number[]) => !bbox || parseFloat(lat) > bbox[1] && parseFloat(lat) < bbox[3] && parseFloat(lon) > bbox[0] && parseFloat(lon) < bbox[2];\n\n/**\n * Is a string a valid url for a layer\n * It must be a valid url and include all of `{x}`, `{y}` and `{zoom}` or `{z}`\n */\nexport const isValidLayerUrl = (url: string, isFinal: boolean) => {\n  if (isFinal) {\n    try {\n      new URL(url);\n    } catch {\n      return false;\n    }\n  }\n  const sanitizedUrl = url.replace('{zoom}', '{z}');\n  const includesxyz = sanitizedUrl.includes('{x}') && sanitizedUrl.includes('{y}') && sanitizedUrl.includes('{z}');\n  return includesxyz || sanitizedUrl.includes('{bbox-epsg-3857}');\n};","'use client';\n\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport composeClasses from '@mui/utils/composeClasses';\nimport { alpha } from '@mui/system/colorManipulator';\nimport { styled } from \"../zero-styled/index.js\";\nimport memoTheme from \"../utils/memoTheme.js\";\nimport { useDefaultProps } from \"../DefaultPropsProvider/index.js\";\nimport rootShouldForwardProp from \"../styles/rootShouldForwardProp.js\";\nimport ButtonBase from \"../ButtonBase/index.js\";\nimport useEnhancedEffect from \"../utils/useEnhancedEffect.js\";\nimport useForkRef from \"../utils/useForkRef.js\";\nimport ListContext from \"../List/ListContext.js\";\nimport listItemButtonClasses, { getListItemButtonUtilityClass } from \"./listItemButtonClasses.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport const overridesResolver = (props, styles) => {\n  const {\n    ownerState\n  } = props;\n  return [styles.root, ownerState.dense && styles.dense, ownerState.alignItems === 'flex-start' && styles.alignItemsFlexStart, ownerState.divider && styles.divider, !ownerState.disableGutters && styles.gutters];\n};\nconst useUtilityClasses = ownerState => {\n  const {\n    alignItems,\n    classes,\n    dense,\n    disabled,\n    disableGutters,\n    divider,\n    selected\n  } = ownerState;\n  const slots = {\n    root: ['root', dense && 'dense', !disableGutters && 'gutters', divider && 'divider', disabled && 'disabled', alignItems === 'flex-start' && 'alignItemsFlexStart', selected && 'selected']\n  };\n  const composedClasses = composeClasses(slots, getListItemButtonUtilityClass, classes);\n  return {\n    ...classes,\n    ...composedClasses\n  };\n};\nconst ListItemButtonRoot = styled(ButtonBase, {\n  shouldForwardProp: prop => rootShouldForwardProp(prop) || prop === 'classes',\n  name: 'MuiListItemButton',\n  slot: 'Root',\n  overridesResolver\n})(memoTheme(({\n  theme\n}) => ({\n  display: 'flex',\n  flexGrow: 1,\n  justifyContent: 'flex-start',\n  alignItems: 'center',\n  position: 'relative',\n  textDecoration: 'none',\n  minWidth: 0,\n  boxSizing: 'border-box',\n  textAlign: 'left',\n  paddingTop: 8,\n  paddingBottom: 8,\n  transition: theme.transitions.create('background-color', {\n    duration: theme.transitions.duration.shortest\n  }),\n  '&:hover': {\n    textDecoration: 'none',\n    backgroundColor: (theme.vars || theme).palette.action.hover,\n    // Reset on touch devices, it doesn't add specificity\n    '@media (hover: none)': {\n      backgroundColor: 'transparent'\n    }\n  },\n  [`&.${listItemButtonClasses.selected}`]: {\n    backgroundColor: theme.vars ? `rgba(${theme.vars.palette.primary.mainChannel} / ${theme.vars.palette.action.selectedOpacity})` : alpha(theme.palette.primary.main, theme.palette.action.selectedOpacity),\n    [`&.${listItemButtonClasses.focusVisible}`]: {\n      backgroundColor: theme.vars ? `rgba(${theme.vars.palette.primary.mainChannel} / calc(${theme.vars.palette.action.selectedOpacity} + ${theme.vars.palette.action.focusOpacity}))` : alpha(theme.palette.primary.main, theme.palette.action.selectedOpacity + theme.palette.action.focusOpacity)\n    }\n  },\n  [`&.${listItemButtonClasses.selected}:hover`]: {\n    backgroundColor: theme.vars ? `rgba(${theme.vars.palette.primary.mainChannel} / calc(${theme.vars.palette.action.selectedOpacity} + ${theme.vars.palette.action.hoverOpacity}))` : alpha(theme.palette.primary.main, theme.palette.action.selectedOpacity + theme.palette.action.hoverOpacity),\n    // Reset on touch devices, it doesn't add specificity\n    '@media (hover: none)': {\n      backgroundColor: theme.vars ? `rgba(${theme.vars.palette.primary.mainChannel} / ${theme.vars.palette.action.selectedOpacity})` : alpha(theme.palette.primary.main, theme.palette.action.selectedOpacity)\n    }\n  },\n  [`&.${listItemButtonClasses.focusVisible}`]: {\n    backgroundColor: (theme.vars || theme).palette.action.focus\n  },\n  [`&.${listItemButtonClasses.disabled}`]: {\n    opacity: (theme.vars || theme).palette.action.disabledOpacity\n  },\n  variants: [{\n    props: ({\n      ownerState\n    }) => ownerState.divider,\n    style: {\n      borderBottom: `1px solid ${(theme.vars || theme).palette.divider}`,\n      backgroundClip: 'padding-box'\n    }\n  }, {\n    props: {\n      alignItems: 'flex-start'\n    },\n    style: {\n      alignItems: 'flex-start'\n    }\n  }, {\n    props: ({\n      ownerState\n    }) => !ownerState.disableGutters,\n    style: {\n      paddingLeft: 16,\n      paddingRight: 16\n    }\n  }, {\n    props: ({\n      ownerState\n    }) => ownerState.dense,\n    style: {\n      paddingTop: 4,\n      paddingBottom: 4\n    }\n  }]\n})));\nconst ListItemButton = /*#__PURE__*/React.forwardRef(function ListItemButton(inProps, ref) {\n  const props = useDefaultProps({\n    props: inProps,\n    name: 'MuiListItemButton'\n  });\n  const {\n    alignItems = 'center',\n    autoFocus = false,\n    component = 'div',\n    children,\n    dense = false,\n    disableGutters = false,\n    divider = false,\n    focusVisibleClassName,\n    selected = false,\n    className,\n    ...other\n  } = props;\n  const context = React.useContext(ListContext);\n  const childContext = React.useMemo(() => ({\n    dense: dense || context.dense || false,\n    alignItems,\n    disableGutters\n  }), [alignItems, context.dense, dense, disableGutters]);\n  const listItemRef = React.useRef(null);\n  useEnhancedEffect(() => {\n    if (autoFocus) {\n      if (listItemRef.current) {\n        listItemRef.current.focus();\n      } else if (process.env.NODE_ENV !== 'production') {\n        console.error('MUI: Unable to set focus to a ListItemButton whose component has not been rendered.');\n      }\n    }\n  }, [autoFocus]);\n  const ownerState = {\n    ...props,\n    alignItems,\n    dense: childContext.dense,\n    disableGutters,\n    divider,\n    selected\n  };\n  const classes = useUtilityClasses(ownerState);\n  const handleRef = useForkRef(listItemRef, ref);\n  return /*#__PURE__*/_jsx(ListContext.Provider, {\n    value: childContext,\n    children: /*#__PURE__*/_jsx(ListItemButtonRoot, {\n      ref: handleRef,\n      href: other.href || other.to\n      // `ButtonBase` processes `href` or `to` if `component` is set to 'button'\n      ,\n      component: (other.href || other.to) && component === 'div' ? 'button' : component,\n      focusVisibleClassName: clsx(classes.focusVisible, focusVisibleClassName),\n      ownerState: ownerState,\n      className: clsx(classes.root, className),\n      ...other,\n      classes: classes,\n      children: children\n    })\n  });\n});\nprocess.env.NODE_ENV !== \"production\" ? ListItemButton.propTypes /* remove-proptypes */ = {\n  // ┌────────────────────────────── Warning ──────────────────────────────┐\n  // │ These PropTypes are generated from the TypeScript type definitions. │\n  // │    To update them, edit the d.ts file and run `pnpm proptypes`.     │\n  // └─────────────────────────────────────────────────────────────────────┘\n  /**\n   * Defines the `align-items` style property.\n   * @default 'center'\n   */\n  alignItems: PropTypes.oneOf(['center', 'flex-start']),\n  /**\n   * If `true`, the list item is focused during the first mount.\n   * Focus will also be triggered if the value changes from false to true.\n   * @default false\n   */\n  autoFocus: PropTypes.bool,\n  /**\n   * The content of the component if a `ListItemSecondaryAction` is used it must\n   * be the last child.\n   */\n  children: PropTypes.node,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes.elementType,\n  /**\n   * If `true`, compact vertical padding designed for keyboard and mouse input is used.\n   * The prop defaults to the value inherited from the parent List component.\n   * @default false\n   */\n  dense: PropTypes.bool,\n  /**\n   * If `true`, the component is disabled.\n   * @default false\n   */\n  disabled: PropTypes.bool,\n  /**\n   * If `true`, the left and right padding is removed.\n   * @default false\n   */\n  disableGutters: PropTypes.bool,\n  /**\n   * If `true`, a 1px light border is added to the bottom of the list item.\n   * @default false\n   */\n  divider: PropTypes.bool,\n  /**\n   * This prop can help identify which element has keyboard focus.\n   * The class name will be applied when the element gains the focus through keyboard interaction.\n   * It's a polyfill for the [CSS :focus-visible selector](https://drafts.csswg.org/selectors-4/#the-focus-visible-pseudo).\n   * The rationale for using this feature [is explained here](https://github.com/WICG/focus-visible/blob/HEAD/explainer.md).\n   * A [polyfill can be used](https://github.com/WICG/focus-visible) to apply a `focus-visible` class to other components\n   * if needed.\n   */\n  focusVisibleClassName: PropTypes.string,\n  /**\n   * @ignore\n   */\n  href: PropTypes.string,\n  /**\n   * Use to apply selected styling.\n   * @default false\n   */\n  selected: PropTypes.bool,\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport default ListItemButton;","import React from 'react';\nimport { Checkbox, ListItemButton, ListItemSecondaryAction, ListItemText, Typography } from '@mui/material';\nimport { LayerIcon, Spacer, StyledList } from './helpers';\nimport { Layer, useMapStateContext } from '../utils/MapStateContext';\nimport { dotToOptionalBr } from '../helpers';\nimport { intl, t, Translation } from '../../services/intl';\nimport { TooltipButton } from '../utils/TooltipButton';\nimport { useQuery } from 'react-query';\nimport { fetchJson } from '../../services/fetch';\nimport type { ClimbingStatsResponse } from '../../types';\nimport { nl2br } from '../utils/nl2br';\nimport { CLIMBING_TILES_HOST } from '../../services/osm/consts';\nconst getLocalTime = (lastRefresh: string) => lastRefresh ? new Date(lastRefresh).toLocaleString(intl.lang) : null;\nconst fetchClimbingStats = () => fetchJson<ClimbingStatsResponse>(`${CLIMBING_TILES_HOST}api/climbing-tiles/stats`);\nconst ClimbingSecondaryInner = () => {\n  const {\n    data,\n    error,\n    isFetching\n  } = useQuery([], () => fetchClimbingStats());\n  if (isFetching) {\n    return null;\n  }\n  if (error) {\n    console.error('Error fetching climbing stats', error); // eslint-disable-line no-console\n    return null;\n  }\n  const {\n    lastRefresh,\n    osmDataTimestamp,\n    devStats\n  } = data;\n  const tooltip = <>\n      <Translation id=\"climbing_tiles.stats\" values={{\n      lastRefresh: getLocalTime(lastRefresh),\n      osmTime: getLocalTime(osmDataTimestamp)\n    }} />\n      <br />\n      <br />\n      Dev stats:{' '}\n      {nl2br(Object.entries(devStats).map(([k, v]) => `${k}: ${v}`).join('\\n'))}\n      <br />\n    </>;\n  return <>\n      {getLocalTime(osmDataTimestamp).replace(/:\\d+( [APM]+)?$/, '$1')}\n      <TooltipButton sx={{\n      fontSize: '14px',\n      margin: '-8px -3px -6px -3px'\n    }} tooltip={tooltip} data-sentry-element=\"TooltipButton\" data-sentry-source-file=\"Overlays.tsx\" />\n    </>;\n};\nconst ClimbingSecondary = () => {\n  if (process.env.NEXT_PUBLIC_ENABLE_CLIMBING_TILES) {\n    return <ClimbingSecondaryInner />;\n  }\n  return <>lite</>;\n};\nconst OverlayItem = ({\n  layer\n}: {\n  layer: Layer;\n}) => {\n  const {\n    activeLayers,\n    setActiveLayers\n  } = useMapStateContext();\n  const {\n    key,\n    name,\n    Icon\n  } = layer;\n  const handleClick = (e: React.MouseEvent) => {\n    setActiveLayers(prev => prev.includes(key) ? prev.filter(layer => layer !== key) : prev.concat(key));\n    e.stopPropagation();\n  };\n  const selected = activeLayers.includes(key);\n  const secondary = key === 'climbing' && selected ? <ClimbingSecondary /> : undefined;\n  return <ListItemButton onClick={handleClick} key={key} data-sentry-element=\"ListItemButton\" data-sentry-component=\"OverlayItem\" data-sentry-source-file=\"Overlays.tsx\">\n      <LayerIcon Icon={Icon} data-sentry-element=\"LayerIcon\" data-sentry-source-file=\"Overlays.tsx\" />\n      <ListItemText primary={dotToOptionalBr(name)} secondary={secondary} data-sentry-element=\"ListItemText\" data-sentry-source-file=\"Overlays.tsx\" />\n      <ListItemSecondaryAction data-sentry-element=\"ListItemSecondaryAction\" data-sentry-source-file=\"Overlays.tsx\">\n        <Checkbox edge=\"end\" checked={selected} onClick={handleClick} data-sentry-element=\"Checkbox\" data-sentry-source-file=\"Overlays.tsx\" />\n      </ListItemSecondaryAction>\n    </ListItemButton>;\n};\ntype Props = {\n  overlayLayers: Layer[];\n};\nexport const Overlays = ({\n  overlayLayers\n}: Props) => <>\n    <Typography variant=\"overline\" display=\"block\" color=\"textSecondary\" style={{\n    padding: '1em 0 0 1em'\n  }} data-sentry-element=\"Typography\" data-sentry-source-file=\"Overlays.tsx\">\n      {t('layerswitcher.overlays')}\n    </Typography>\n\n    <StyledList dense suppressHydrationWarning data-sentry-element=\"StyledList\" data-sentry-source-file=\"Overlays.tsx\">\n      {overlayLayers.map(layer => layer.type === 'spacer' ? <Spacer key={layer.key} /> : <OverlayItem key={layer.key} layer={layer} />)}\n    </StyledList>\n  </>;","import { fetchJson } from '../../../services/fetch';\nimport { isValidLayerUrl } from '../helpers';\nimport { Bbox } from '../../utils/MapStateContext';\n\nexport type Category =\n  | 'photo'\n  | 'map'\n  | 'historicmap'\n  | 'osmbasedmap'\n  | 'historicphoto'\n  | 'qa'\n  | 'elevation'\n  | 'other';\n\nexport interface LayerIndexAttribution {\n  url?: string;\n  text?: string;\n  html?: string;\n  required?: boolean;\n}\n\nexport interface LayerIndex {\n  /**\n   * A unique identifier for the source; used in imagery_used changeset tag\n   */\n  id: string;\n  bbox?: Bbox[];\n  type: 'tms' | 'wms';\n  /**\n   * A URL template for imagery tilesA URL template for imagery tiles\n   */\n  url: string;\n  /**\n   * The name of the imagery source\n   */\n  name: string;\n  /**\n   * Whether the imagery name should be translated\n   */\n  i18n?: boolean;\n  /**\n   * A rough categorisation of different types of layers. See https://github.com/osmlab/editor-layer-index/blob/gh-pages/CONTRIBUTING.md#categories for a description of the individual categories.\n   */\n  category?: Category;\n  min_zoom?: number;\n  max_zoom?: number;\n  /**\n   * explicit/implicit permission by the owner for use in OSM\n   */\n  permission_osm?: 'explicit' | 'implicit' | 'no';\n  /**\n   * A URL for the license or permissions for the imagery\n   */\n  license_url?: string;\n  /**\n   * A URL for the privacy policy of the operator or false if there is no existing privacy policy for tis imagery.\n   */\n  privacy_policy_url?: false | string;\n  /**\n   * A short English-language description of the source\n   */\n  description?: string;\n  /**\n   * The ISO 3166-1 alpha-2 two letter country code in upper case. Use ZZ for unknown or multiple.\n   */\n  country_code?: string;\n  /**\n   * Whether this imagery should be shown in the default world-wide menu\n   */\n  default?: boolean;\n  /**\n   * Whether this imagery is the best source for the region\n   */\n  best?: boolean;\n  /*\n   * The age of the oldest imagery or data in the source, as an RFC3339 date or leading portion of one\n   */\n  start_date?: string;\n  /**\n   * The age of the newest imagery or data in the source, as an RFC3339 date or leading portion of one\n   */\n  end_date?: string;\n  /**\n   * HTTP header to check for information if the tile is invalid\n   */\n  no_tile_header?: Record<string, string[] | null>;\n  /**\n   * `true` if tiles are transparent and can be overlaid on another source\n   */\n  overlay?: boolean;\n  available_projections?: string[];\n  attribution?: LayerIndexAttribution;\n  /**\n   * A URL for an image, that can be displayed in the list of imagery layers next to the name\n   */\n  icon?: string;\n  /**\n   *A link to an EULA text that has to be accepted by the user, before the imagery source is added. Can contain {lang} to be replaced by a current user language wiki code (like FR:) or an empty string for the default English text.\n   */\n  eula?: string;\n  /**\n   * A URL for an image, that is displayed in the mapview for attribution\n   */\n  'logo-image'?: string;\n  /**\n   * Customized text for the terms of use link (default is \\\"Background Terms of Use\\\")\n   */\n  'terms-of-use-text'?: string;\n  /**\n   * Specify a checksum for tiles, which aren't real tiles. `type` is the digest type and can be MD5, SHA-1, SHA-256, SHA-384 and SHA-512, value is the hex encoded checksum in lower case. To create a checksum save the tile as file and upload it to e.g. https://defuse.ca/checksums.htm.\n   */\n  'no-tile-checksum'?: string;\n  /**\n   * header-name attribute specifies a header returned by tile server, that will be shown as `metadata-key` attribute in Show Tile Info dialog\n   */\n  'metadata-header'?: string;\n  /**\n   * Set to `true` if imagery source is properly aligned and does not need imagery offset adjustments. This is used for OSM based sources too.\n   */\n  'valid-georeference'?: boolean;\n  /**\n   * Size of individual tiles delivered by a TMS service\n   */\n  'tile-size'?: number;\n  /**\n   * Whether tiles status can be accessed by appending /status to the tile URL and can be submitted for re-rendering by appending /dirty.\n   */\n  'mod-tile-features'?: string;\n  /**\n   * HTTP headers to be sent to server. It has two attributes header-name and header-value. May be specified multiple times.\n   */\n  'custom-http-headers'?: {\n    'header-name'?: string;\n    'header-value'?: string;\n  };\n}\n\ntype Coordinate = [number, number];\n\nconst getBoundingBox = (coords: Coordinate[]) => [\n  Math.min(...coords.map(([x]) => x)),\n  Math.min(...coords.map(([, x]) => x)),\n  Math.max(...coords.map(([x]) => x)),\n  Math.max(...coords.map(([, x]) => x)),\n];\n\nexport async function loadLayer() {\n  const response = await fetchJson(\n    'https://osmlab.github.io/editor-layer-index/imagery.geojson',\n  );\n\n  return response.features\n    .map(({ properties, geometry }) => {\n      const coordinates = (\n        geometry && geometry.coordinates ? geometry.coordinates : undefined\n      ) as Coordinate[][] | undefined;\n\n      const boxes = coordinates?.map(getBoundingBox);\n\n      return {\n        ...properties,\n        bbox: boxes,\n        url: properties.url\n          .replace('{proj}', 'EPSG:3857')\n          .replace('{width}', '256')\n          .replace('{height}', '256')\n          .replace('{bbox}', '{bbox-epsg-3857}'),\n      };\n    })\n    .filter(({ type, available_projections }) => {\n      if (type === 'tms') {\n        return true;\n      }\n      return (\n        type === 'wms' && (available_projections ?? []).includes('EPSG:3857')\n      );\n    })\n    .filter(({ url }) => isValidLayerUrl(url, false)) as LayerIndex[];\n}\n","import generateUtilityClasses from '@mui/utils/generateUtilityClasses';\nimport generateUtilityClass from '@mui/utils/generateUtilityClass';\nexport function getFormGroupUtilityClass(slot) {\n  return generateUtilityClass('MuiFormGroup', slot);\n}\nconst formGroupClasses = generateUtilityClasses('MuiFormGroup', ['root', 'row', 'error']);\nexport default formGroupClasses;","'use client';\n\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport composeClasses from '@mui/utils/composeClasses';\nimport { styled } from \"../zero-styled/index.js\";\nimport { useDefaultProps } from \"../DefaultPropsProvider/index.js\";\nimport { getFormGroupUtilityClass } from \"./formGroupClasses.js\";\nimport useFormControl from \"../FormControl/useFormControl.js\";\nimport formControlState from \"../FormControl/formControlState.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst useUtilityClasses = ownerState => {\n  const {\n    classes,\n    row,\n    error\n  } = ownerState;\n  const slots = {\n    root: ['root', row && 'row', error && 'error']\n  };\n  return composeClasses(slots, getFormGroupUtilityClass, classes);\n};\nconst FormGroupRoot = styled('div', {\n  name: 'MuiFormGroup',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.root, ownerState.row && styles.row];\n  }\n})({\n  display: 'flex',\n  flexDirection: 'column',\n  flexWrap: 'wrap',\n  variants: [{\n    props: {\n      row: true\n    },\n    style: {\n      flexDirection: 'row'\n    }\n  }]\n});\n\n/**\n * `FormGroup` wraps controls such as `Checkbox` and `Switch`.\n * It provides compact row layout.\n * For the `Radio`, you should be using the `RadioGroup` component instead of this one.\n */\nconst FormGroup = /*#__PURE__*/React.forwardRef(function FormGroup(inProps, ref) {\n  const props = useDefaultProps({\n    props: inProps,\n    name: 'MuiFormGroup'\n  });\n  const {\n    className,\n    row = false,\n    ...other\n  } = props;\n  const muiFormControl = useFormControl();\n  const fcs = formControlState({\n    props,\n    muiFormControl,\n    states: ['error']\n  });\n  const ownerState = {\n    ...props,\n    row,\n    error: fcs.error\n  };\n  const classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsx(FormGroupRoot, {\n    className: clsx(classes.root, className),\n    ownerState: ownerState,\n    ref: ref,\n    ...other\n  });\n});\nprocess.env.NODE_ENV !== \"production\" ? FormGroup.propTypes /* remove-proptypes */ = {\n  // ┌────────────────────────────── Warning ──────────────────────────────┐\n  // │ These PropTypes are generated from the TypeScript type definitions. │\n  // │    To update them, edit the d.ts file and run `pnpm proptypes`.     │\n  // └─────────────────────────────────────────────────────────────────────┘\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * Display group of elements in a compact row.\n   * @default false\n   */\n  row: PropTypes.bool,\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport default FormGroup;","import { useState } from 'react';\nimport * as React from 'react';\nimport { Box, Checkbox, FormControlLabel, FormGroup, TextField, Autocomplete } from '@mui/material';\nimport { Star } from '@mui/icons-material';\nimport { LayerIndex } from './helpers/loadLayers';\nimport { isViewInsideBbox } from './helpers';\nimport { useMapStateContext } from '../utils/MapStateContext';\nimport { t } from '../../services/intl';\nexport type AutocompleteOption = {\n  type: 'layerIndex';\n  layer: LayerIndex;\n} | {\n  type: 'custom';\n};\nconst getLayerLabel = ({\n  name,\n  country_code\n}: LayerIndex) => {\n  if (country_code) return `${country_code} - ${name}`;\n  return `Global - ${name}`;\n};\ntype SuccessLayerDataInputProps = {\n  index: LayerIndex[];\n  onSelect: (layer: AutocompleteOption) => void;\n};\nexport const SuccessLayerInput: React.FC<SuccessLayerDataInputProps> = ({\n  index,\n  onSelect\n}) => {\n  const [showOnlyAllowedForOsm, setShowOnlyAllowedForOsm] = useState(false);\n  const [currentlyVisible, setCurrentlyVisible] = useState(true);\n  const {\n    view\n  } = useMapStateContext();\n  const options = index.filter(({\n    overlay\n  }) => !overlay).filter(ind => showOnlyAllowedForOsm ? ind.permission_osm === 'explicit' || ind.permission_osm === 'implicit' : true).filter(({\n    bbox\n  }) => {\n    if (!currentlyVisible) return true;\n    if (!bbox) return true;\n    return bbox.some(b => isViewInsideBbox(view, b));\n  }).sort((a, b) => getLayerLabel(a).localeCompare(getLayerLabel(b))).map(layer => ({\n    type: 'layerIndex' as const,\n    layer\n  }));\n  const allOptions: AutocompleteOption[] = [{\n    type: 'custom'\n  }, ...options];\n  return <div data-sentry-component=\"SuccessLayerInput\" data-sentry-source-file=\"SuccessLayerInput.tsx\">\n      <Autocomplete options={allOptions} renderInput={params => <TextField {...params} margin=\"dense\" label=\"Layer\" />} getOptionLabel={opt => {\n      if (opt.type === 'custom') return 'Custom URL';\n      return getLayerLabel(opt.layer);\n    }} onChange={(_, val) => {\n      onSelect(val);\n    }} renderOption={(props, opt) => <Box component=\"li\" {...props}>\n            <span style={{\n        display: 'flex',\n        alignItems: 'center',\n        gap: '0.25rem'\n      }}>\n              {opt.type === 'layerIndex' ? <>\n                  {opt.layer.best && <Star />}\n                  {getLayerLabel(opt.layer)}\n                </> : 'Custom URL'}\n            </span>\n          </Box>} data-sentry-element=\"Autocomplete\" data-sentry-source-file=\"SuccessLayerInput.tsx\" />\n\n      <FormGroup row data-sentry-element=\"FormGroup\" data-sentry-source-file=\"SuccessLayerInput.tsx\">\n        <FormControlLabel control={<Checkbox checked={showOnlyAllowedForOsm} onChange={({\n        target: {\n          checked\n        }\n      }) => setShowOnlyAllowedForOsm(checked)} />} label={t('layerswitcher.compatible_license')} data-sentry-element=\"FormControlLabel\" data-sentry-source-file=\"SuccessLayerInput.tsx\" />\n        <FormControlLabel control={<Checkbox checked={currentlyVisible} onChange={({\n        target: {\n          checked\n        }\n      }) => setCurrentlyVisible(checked)} />} label={t('layerswitcher.layers_in_area')} data-sentry-element=\"FormControlLabel\" data-sentry-source-file=\"SuccessLayerInput.tsx\" />\n      </FormGroup>\n    </div>;\n};","import { useState, useEffect } from 'react';\nimport * as React from 'react';\nimport { Dialog, DialogTitle, DialogActions, DialogContent, Button, CircularProgress, TextField, Autocomplete, Typography, Box } from '@mui/material';\nimport { Category as CategoryType, LayerIndex, loadLayer } from './helpers/loadLayers';\nimport { AutocompleteOption as LayerAutocompleteOption, SuccessLayerInput } from './SuccessLayerInput';\nimport { t } from '../../services/intl';\nimport { isValidLayerUrl } from './helpers';\nconst LoadingLayerInput = () => <div style={{\n  display: 'flex',\n  flexDirection: 'column',\n  alignItems: 'center'\n}} data-sentry-component=\"LoadingLayerInput\" data-sentry-source-file=\"AddCustomLayer.tsx\">\n    <CircularProgress data-sentry-element=\"CircularProgress\" data-sentry-source-file=\"AddCustomLayer.tsx\" />\n    <p style={{\n    fontSize: '1rem',\n    color: 'gray'\n  }}>\n      Fetching the layer index...\n    </p>\n  </div>;\nconst ErrorLayerInput = () => <div data-sentry-component=\"ErrorLayerInput\" data-sentry-source-file=\"AddCustomLayer.tsx\">\n    <p>An error occured while fetching the layer index</p>\n  </div>;\ntype FetchingState = 'success' | 'loading' | 'error';\nconst LayerDataInput: React.FC<{\n  onSelect: (layer: LayerAutocompleteOption | null) => void;\n}> = ({\n  onSelect\n}) => {\n  const [layerIndex, setLayerIndex] = useState([]);\n  const [layerIndexState, setLayerIndexState] = useState<FetchingState>('loading');\n  useEffect(() => {\n    loadLayer().then(result => {\n      setLayerIndex(result);\n      setLayerIndexState('success');\n    }).catch(err => {\n      console.error(err); // eslint-disable-line no-console\n      setLayerIndex([]);\n      setLayerIndexState('error');\n    });\n  }, []);\n  switch (layerIndexState) {\n    case 'success':\n      return <SuccessLayerInput index={layerIndex} onSelect={onSelect} />;\n    case 'error':\n      return <ErrorLayerInput />;\n    case 'loading':\n      return <LoadingLayerInput />;\n    default:\n      return <LoadingLayerInput />;\n  }\n};\nconst dynamicPartsRegex = /{((?!y|x|zoom)[a-zA-Z:,0-9]+)}/g;\ninterface Detailsprops {\n  layer: LayerIndex;\n  onChange: (values: Record<string, string>) => void;\n  onValidation: (ok: boolean) => void;\n}\nconst Category = ({\n  category\n}: {\n  category: CategoryType;\n}) => {\n  const start = t('layerswitcher.category');\n  const categoryMap: Partial<Record<CategoryType, string>> = {\n    photo: t('layerswitcher.category_photo'),\n    osmbasedmap: t('layerswitcher.category_osmbasedmap')\n  };\n  const categoryType = categoryMap[category] || category;\n  return <p data-sentry-component=\"Category\" data-sentry-source-file=\"AddCustomLayer.tsx\">\n      {start}: {categoryType}\n    </p>;\n};\nconst Details: React.FC<Detailsprops> = ({\n  layer,\n  onChange,\n  onValidation\n}) => {\n  const {\n    url\n  } = layer;\n  const dynamicParts = url.match(dynamicPartsRegex)?.map(part => {\n    const [baseTitle, baseOptions] = part.split(':');\n    const options = baseOptions ? baseOptions.split(',').map(o => o.match(/[a-zA-Z0-9]+/)[0]) : null;\n    const title = baseTitle.match(/[a-z]+/)[0];\n    return {\n      title,\n      options\n    };\n  }) || [];\n  const [values, setValues] = useState<Record<string, string>>({});\n  useEffect(() => {\n    onChange(values);\n    const valuesLength = Object.keys(values).length;\n    const desiredLength = dynamicParts.length;\n    onValidation(desiredLength === valuesLength);\n  }, [values, dynamicParts.length, onChange, onValidation]);\n  return <div style={{\n    display: 'grid'\n  }} data-sentry-component=\"Details\" data-sentry-source-file=\"AddCustomLayer.tsx\">\n      <span style={{\n      display: 'flex',\n      gap: '1rem',\n      alignItems: 'center'\n    }}>\n        {layer.icon && <img alt={`${layer.name}s logo`} src={layer.icon} height={20} />}\n        <h3>{layer.name}</h3>\n      </span>\n      {layer.description && <p>{layer.description}</p>}\n      <Category category={layer.category} data-sentry-element=\"Category\" data-sentry-source-file=\"AddCustomLayer.tsx\" />\n      <span style={{\n      display: 'flex',\n      gap: '1rem',\n      alignItems: 'center'\n    }}>\n        {layer.license_url && <a href={layer.license_url}>{t('layerswitcher.license')}</a>}\n        {layer.privacy_policy_url && <a href={layer.privacy_policy_url}>\n            {t('layerswitcher.privacy_policy')}\n          </a>}\n        <p>{t('layerswitcher.not_all_work')}</p>\n      </span>\n\n      <hr style={{\n      width: '100%'\n    }} />\n\n      {dynamicParts.map(part => {\n      const hasOptions = !!part.options;\n      const prettyTitle = {\n        switch: 'Tile server',\n        apikey: 'API-Key'\n      }[part.title] || part.title;\n      if (hasOptions) return <Autocomplete options={part.options} renderInput={params =>\n      // eslint-disable-next-line react/jsx-props-no-spreading\n      <TextField {...params} label={prettyTitle} />} onChange={(_, val) => {\n        setValues(prev => ({\n          ...prev,\n          [part.title]: val\n        }));\n      }} key={part.title} />;\n      return <TextField label={prettyTitle} key={part.title} onChange={val => {\n        setValues(prev => ({\n          ...prev,\n          [part.title]: val.target.value\n        }));\n      }} />;\n    })}\n    </div>;\n};\nconst DEFAULT_VALUE = 'https://tiles.stadiamaps.com/tiles/stamen_watercolor/{z}/{x}/{y}.jpg';\nconst CustomChoose: React.FC<{\n  onValidation: (isOk: boolean) => void;\n  onChange: (layer: LayerIndex) => void;\n}> = ({\n  onValidation,\n  onChange\n}) => {\n  const [url, setUrl] = useState(DEFAULT_VALUE);\n  const [isValid, setIsValid] = useState(false);\n  useEffect(() => {\n    onValidation(isValid);\n  }, [isValid, onValidation]);\n  useEffect(() => {\n    setIsValid(isValidLayerUrl(url, true));\n  }, [url]);\n  useEffect(() => {\n    const sanitizedUrl = url.replace('{zoom}', '{z}');\n    try {\n      onChange({\n        url: sanitizedUrl,\n        id: `custom-${sanitizedUrl}`,\n        name: new URL(sanitizedUrl).hostname,\n        type: 'tms'\n      });\n    } catch {\n      onChange({\n        url: sanitizedUrl,\n        id: `custom-${sanitizedUrl}`,\n        name: sanitizedUrl,\n        type: 'tms'\n      });\n    }\n  }, [url, isValid, onChange]);\n  return <div style={{\n    paddingTop: '2rem'\n  }} data-sentry-component=\"CustomChoose\" data-sentry-source-file=\"AddCustomLayer.tsx\">\n      <TextField label=\"URL\" fullWidth value={url} onChange={val => {\n      setUrl(val.target.value);\n    }} error={!isValid && !!url} helperText={<p>{t('layerswitcher.explaination')}</p>} data-sentry-element=\"TextField\" data-sentry-source-file=\"AddCustomLayer.tsx\" />\n    </div>;\n};\ninterface AddDialogProps {\n  save: (layer: LayerIndex) => void;\n  onClose: () => void;\n  isOpen: boolean;\n}\nexport const AddCustomDialog: React.FC<AddDialogProps> = ({\n  save,\n  isOpen,\n  onClose\n}) => {\n  const [isSaveDisabled, setDisableSave] = useState(true);\n  const [layer, setLayer] = useState<LayerIndex | null>(null);\n  const [layerUrl, setLayerUrl] = useState<string | null>(null);\n  const [choosingCustom, setChoosingCustom] = useState(false);\n  const onReset = () => {\n    onClose();\n    setLayer(null);\n    setDisableSave(true);\n    setChoosingCustom(false);\n  };\n  const onSave = () => {\n    save({\n      ...layer,\n      url: layerUrl\n    });\n    onReset();\n  };\n  return <Dialog open={isOpen} maxWidth=\"md\" data-sentry-element=\"Dialog\" data-sentry-component=\"AddCustomDialog\" data-sentry-source-file=\"AddCustomLayer.tsx\">\n      <DialogTitle data-sentry-element=\"DialogTitle\" data-sentry-source-file=\"AddCustomLayer.tsx\">\n        <p>Add a layer</p>\n      </DialogTitle>\n\n      <DialogContent data-sentry-element=\"DialogContent\" data-sentry-source-file=\"AddCustomLayer.tsx\">\n        <Box mb={2} data-sentry-element=\"Box\" data-sentry-source-file=\"AddCustomLayer.tsx\">\n          <Typography variant=\"body1\" data-sentry-element=\"Typography\" data-sentry-source-file=\"AddCustomLayer.tsx\">\n            Layers are sourced from the{' '}\n            <a href=\"https://github.com/osmlab/editor-layer-index\" target=\"_blank\">\n              editor-layer-index\n            </a>{' '}\n            list.\n          </Typography>\n        </Box>\n\n        <LayerDataInput onSelect={newLayer => {\n        if (!newLayer) {\n          setLayer(null);\n          setDisableSave(true);\n          setChoosingCustom(false);\n          return;\n        }\n        if (newLayer.type === 'layerIndex') {\n          setLayer(newLayer.layer);\n          setDisableSave(false);\n          setChoosingCustom(false);\n          return;\n        }\n        setChoosingCustom(true);\n      }} data-sentry-element=\"LayerDataInput\" data-sentry-source-file=\"AddCustomLayer.tsx\" />\n        {layer && !choosingCustom && <Details layer={layer} onChange={vals => {\n        const baseUrl = Object.keys(vals).reduce((acc, key) => {\n          const keyPattern = new RegExp(`{${key}(:[a-z,A-Z,0-9]+)?}`);\n          return acc.replace(keyPattern, vals[key]);\n        }, layer.url.replace('{zoom}', '{z}'));\n        setLayerUrl(baseUrl);\n      }} onValidation={isOk => {\n        setDisableSave(!isOk);\n      }} />}\n        {choosingCustom && <CustomChoose onChange={layer => {\n        setLayerUrl(layer.url);\n        setLayer(layer);\n      }} onValidation={isOk => {\n        setDisableSave(!isOk);\n      }} />}\n\n        <DialogActions data-sentry-element=\"DialogActions\" data-sentry-source-file=\"AddCustomLayer.tsx\">\n          <Button onClick={onReset} data-sentry-element=\"Button\" data-sentry-source-file=\"AddCustomLayer.tsx\">Cancel</Button>\n\n          <Button onClick={onSave} color=\"primary\" variant=\"contained\" disabled={isSaveDisabled} data-sentry-element=\"Button\" data-sentry-source-file=\"AddCustomLayer.tsx\">\n            Save\n          </Button>\n        </DialogActions>\n      </DialogContent>\n    </Dialog>;\n};","import { useState } from 'react';\nimport React from 'react';\nimport { Box, Button } from '@mui/material';\nimport { Layer, useMapStateContext } from '../utils/MapStateContext';\nimport { t } from '../../services/intl';\nimport { AddCustomDialog } from './AddCustomLayer';\nimport { LayerIndexAttribution } from './helpers/loadLayers';\nconst fmtAttributionHtml = ({\n  url,\n  html,\n  text\n}: LayerIndexAttribution) => {\n  if (html) return html;\n  if (text && url) return `<a href=\"${url}\">${text}</a>`;\n  return text || url;\n};\nexport const AddUserLayerButton = () => {\n  const {\n    setActiveLayers,\n    setUserLayers\n  } = useMapStateContext();\n  const [isOpen, setOpen] = useState(false);\n  return <>\n      <Box m={2} mt={6} data-sentry-element=\"Box\" data-sentry-source-file=\"AddLayerButton.tsx\">\n        <Button size=\"small\" color=\"secondary\" onClick={() => setOpen(true)} data-sentry-element=\"Button\" data-sentry-source-file=\"AddLayerButton.tsx\">\n          {t('layerswitcher.add_layer_button')}\n        </Button>\n      </Box>\n\n      <AddCustomDialog onClose={() => setOpen(false)} isOpen={isOpen} save={layer => {\n      const {\n        url,\n        name,\n        max_zoom: maxzoom,\n        min_zoom: minzoom,\n        attribution,\n        bbox: bboxes,\n        category\n      } = layer;\n      const newLayer: Layer = {\n        type: 'user',\n        maxzoom,\n        minzoom,\n        name,\n        url,\n        bboxes,\n        isSatelite: category === 'photo',\n        ...(attribution && {\n          attribution: [fmtAttributionHtml(attribution)]\n        })\n      };\n      setUserLayers(current => {\n        const userLayersOmitSame = current.filter(item => item.url !== url);\n        return [...userLayersOmitSame, newLayer];\n      });\n      setActiveLayers([url]); // if this not found in osmappLayers, value is used as tiles URL\n    }} data-sentry-element=\"AddCustomDialog\" data-sentry-source-file=\"AddLayerButton.tsx\" />\n    </>;\n};","import { Bbox, Layer, useMapStateContext, View } from '../utils/MapStateContext';\nimport { isViewInsideBbox, LayerIcon, RemoveUserLayerAction, Spacer, StyledList } from './helpers';\nimport React from 'react';\nimport { ListItemButton, ListItemText, Tooltip } from '@mui/material';\nimport WarningIcon from '@mui/icons-material/Warning';\nconst OutsideOfView = () => <Tooltip title=\"Not visible currently\" arrow placement=\"top-end\" data-sentry-element=\"Tooltip\" data-sentry-component=\"OutsideOfView\" data-sentry-source-file=\"BaseLayers.tsx\">\n    <WarningIcon fontSize=\"small\" color=\"secondary\" data-sentry-element=\"WarningIcon\" data-sentry-source-file=\"BaseLayers.tsx\" />\n  </Tooltip>;\nconst getIsOutsideOfView = (bboxes: Bbox[], view: View) => bboxes && !bboxes.some(b => isViewInsideBbox(view, b));\nconst BaseLayerItem = ({\n  layer\n}: {\n  layer: Layer;\n}) => {\n  const {\n    view,\n    activeLayers,\n    setActiveLayers\n  } = useMapStateContext();\n  const {\n    key,\n    name,\n    type,\n    url,\n    Icon,\n    bboxes,\n    secondLine\n  } = layer;\n  const handleClick = () => {\n    setActiveLayers(prev => [key, ...prev.slice(1)]);\n  };\n  const selected = activeLayers.includes(key);\n  const isOutsideOfView = getIsOutsideOfView(bboxes, view);\n  return <>\n      <ListItemButton key={key} selected={selected} onClick={handleClick} data-sentry-element=\"ListItemButton\" data-sentry-source-file=\"BaseLayers.tsx\">\n        <LayerIcon Icon={Icon} data-sentry-element=\"LayerIcon\" data-sentry-source-file=\"BaseLayers.tsx\" />\n        <ListItemText primary={name} secondary={selected && secondLine ? secondLine : undefined} data-sentry-element=\"ListItemText\" data-sentry-source-file=\"BaseLayers.tsx\" />\n        {isOutsideOfView && <OutsideOfView />}\n        {type === 'user' && <RemoveUserLayerAction url={url} />}\n      </ListItemButton>\n    </>;\n};\nexport const BaseLayers = ({\n  baseLayers\n}: {\n  baseLayers: Layer[];\n}) => <StyledList dense suppressHydrationWarning data-sentry-element=\"StyledList\" data-sentry-component=\"BaseLayers\" data-sentry-source-file=\"BaseLayers.tsx\">\n    {baseLayers.map(layer => layer.type === 'spacer' ? <Spacer key={layer.key} /> : <BaseLayerItem key={layer.key} layer={layer} />)}\n  </StyledList>;","import React from 'react';\nimport { PersonAdd } from '@mui/icons-material';\nimport { isViewInsideBbox, LayersHeader } from './helpers';\nimport { osmappLayers } from './osmappLayers';\nimport { Layer, useMapStateContext, View } from '../utils/MapStateContext';\nimport { Overlays } from './Overlays';\nimport { AddUserLayerButton } from './AddLayerButton';\nimport { BaseLayers } from './BaseLayers';\nimport { Divider } from '@mui/material';\ntype AllLayers = {\n  basemapLayers: Layer[];\n  overlayLayers: Layer[];\n};\nconst getAllLayers = (userLayers: Layer[], view: View): AllLayers => {\n  const spacer: Layer = {\n    type: 'spacer' as const,\n    key: 'userSpacer'\n  };\n  const toLayer = ([key, layer]) => ({\n    ...layer,\n    key\n  });\n  const entries = Object.entries(osmappLayers).filter(([_, layer]) => {\n    if (!layer.bboxes) return true;\n    return layer.bboxes.some(b => isViewInsideBbox(view, b));\n  });\n  const basemaps = entries.filter(([, v]) => v.type === 'basemap');\n  const overlays = entries.filter(([, v]) => v.type.startsWith('overlay'));\n  const basemapLayers = [...basemaps.map(toLayer), ...(userLayers.length ? [spacer] : []), ...userLayers.map(layer => ({\n    ...layer,\n    key: layer.url,\n    Icon: PersonAdd\n  }))];\n  return {\n    basemapLayers,\n    overlayLayers: overlays.map(toLayer)\n  };\n};\nexport const LayerSwitcherContent = () => {\n  const {\n    view,\n    userLayers\n  } = useMapStateContext();\n  const {\n    basemapLayers,\n    overlayLayers\n  } = getAllLayers(userLayers, view);\n  return <>\n      <LayersHeader data-sentry-element=\"LayersHeader\" data-sentry-source-file=\"LayerSwitcherContent.tsx\" />\n      <Divider data-sentry-element=\"Divider\" data-sentry-source-file=\"LayerSwitcherContent.tsx\" />\n\n      <BaseLayers baseLayers={basemapLayers} data-sentry-element=\"BaseLayers\" data-sentry-source-file=\"LayerSwitcherContent.tsx\" />\n      <Overlays overlayLayers={overlayLayers} data-sentry-element=\"Overlays\" data-sentry-source-file=\"LayerSwitcherContent.tsx\" />\n\n      <AddUserLayerButton data-sentry-element=\"AddUserLayerButton\" data-sentry-source-file=\"LayerSwitcherContent.tsx\" />\n    </>;\n};","import React, { useEffect } from 'react';\nimport { SwipeableDrawer, useMediaQuery } from '@mui/material';\nimport { isDesktop, useBoolState } from '../helpers';\nimport { LayerSwitcherButton } from './LayerSwitcherButton';\nimport { LayerSwitcherContent } from './LayerSwitcherContent';\nimport { ClosePanelButton } from '../utils/ClosePanelButton';\nexport const useLayerSwitcherShortcuts = (onClose: () => void) => {\n  useEffect(() => {\n    const downHandler = e => {\n      if (e.key === 'Escape') {\n        onClose();\n      }\n    };\n    window.addEventListener('keydown', downHandler);\n    return () => {\n      window.removeEventListener('keydown', downHandler);\n    };\n  }, [onClose]);\n};\nconst LayerSwitcher = () => {\n  const [opened, open, close] = useBoolState(false);\n  const panelFixed = useMediaQuery(isDesktop);\n  useLayerSwitcherShortcuts(close);\n  return <div data-sentry-component=\"LayerSwitcher\" data-sentry-source-file=\"LayerSwitcher.tsx\">\n      <LayerSwitcherButton onClick={opened ? close : open} isOpened={opened} data-sentry-element=\"LayerSwitcherButton\" data-sentry-source-file=\"LayerSwitcher.tsx\" />\n      <SwipeableDrawer anchor=\"right\" open={opened} onClose={close} onOpen={open} variant={panelFixed ? 'persistent' : 'temporary'} disableBackdropTransition disableSwipeToOpen sx={{\n      pointerEvents: 'all'\n    }} data-sentry-element=\"SwipeableDrawer\" data-sentry-source-file=\"LayerSwitcher.tsx\">\n        <div role=\"presentation\" style={{\n        width: '280px',\n        height: '100%'\n      }}>\n          <ClosePanelButton right onClick={close} style={{\n          top: 13\n        }} data-sentry-element=\"ClosePanelButton\" data-sentry-source-file=\"LayerSwitcher.tsx\" />\n          <LayerSwitcherContent data-sentry-element=\"LayerSwitcherContent\" data-sentry-source-file=\"LayerSwitcher.tsx\" />\n        </div>\n      </SwipeableDrawer>\n    </div>;\n};\nexport default LayerSwitcher; // default-export needed by dynamic-import"],"names":["createSvgIcon","_jsx","d","RemoveUserLayerAction","url","activeLayers","setActiveLayers","setUserLayers","useMapStateContext","IconButton","edge","aria-label","onClick","e","stopPropagation","current","includes","filter","item","data-sentry-element","data-sentry-component","data-sentry-source-file","CloseIcon","fontSize","Box","m","Typography","variant","color","t","Translation","id","Icon","ListItemIcon","StyledList","styled","List","theme","palette","action","disabled","active","Spacer","bbox","lat","lon","parseFloat","isFinal","URL","sanitizedUrl","replace","includesxyz","useUtilityClasses","ownerState","alignItems","classes","dense","disableGutters","divider","selected","composedClasses","composeClasses","root","getListItemButtonUtilityClass","ListItemButtonRoot","ButtonBase","shouldForwardProp","prop","rootShouldForwardProp","name","slot","overridesResolver","props","styles","alignItemsFlexStart","gutters","memoTheme","display","flexGrow","justifyContent","position","textDecoration","minWidth","boxSizing","textAlign","paddingTop","paddingBottom","transition","transitions","create","duration","shortest","backgroundColor","vars","hover","listItemButtonClasses","primary","mainChannel","selectedOpacity","alpha","main","focusVisible","focusOpacity","hoverOpacity","focus","opacity","disabledOpacity","variants","style","borderBottom","backgroundClip","paddingLeft","paddingRight","ListItemButton","React","ref","useDefaultProps","inProps","autoFocus","component","children","focusVisibleClassName","className","other","context","ListContext","childContext","listItemRef","useEnhancedEffect","handleRef","useForkRef","Provider","value","href","to","clsx","getLocalTime","lastRefresh","Date","toLocaleString","intl","lang","fetchClimbingStats","fetchJson","CLIMBING_TILES_HOST","ClimbingSecondaryInner","data","error","isFetching","useQuery","console","osmDataTimestamp","devStats","tooltip","values","osmTime","br","nl2br","Object","entries","map","k","v","join","TooltipButton","sx","margin","ClimbingSecondary","env","NEXT_PUBLIC_ENABLE_CLIMBING_TILES","process","OverlayItem","layer","key","handleClick","prev","concat","secondary","undefined","LayerIcon","ListItemText","dotToOptionalBr","ListItemSecondaryAction","Checkbox","checked","Overlays","overlayLayers","padding","suppressHydrationWarning","type","getBoundingBox","coords","Math","min","x","max","loadLayer","response","features","properties","geometry","coordinates","boxes","available_projections","isValidLayerUrl","getFormGroupUtilityClass","generateUtilityClass","generateUtilityClasses","row","FormGroupRoot","flexDirection","flexWrap","FormGroup","muiFormControl","useFormControl","fcs","formControlState","states","getLayerLabel","country_code","SuccessLayerInput","index","onSelect","showOnlyAllowedForOsm","setShowOnlyAllowedForOsm","useState","currentlyVisible","setCurrentlyVisible","view","allOptions","overlay","ind","permission_osm","some","b","sort","a","localeCompare","div","Autocomplete","options","renderInput","params","TextField","label","getOptionLabel","opt","onChange","_","val","renderOption","span","gap","best","Star","FormControlLabel","control","target","CircularProgress","p","ErrorLayerInput","LayerDataInput","layerIndex","setLayerIndex","layerIndexState","setLayerIndexState","useEffect","then","result","catch","err","LoadingLayerInput","dynamicPartsRegex","Category","category","start","categoryType","photo","osmbasedmap","Details","onValidation","dynamicParts","match","baseTitle","baseOptions","part","split","o","title","setValues","valuesLength","keys","length","icon","img","alt","src","height","h3","description","license_url","privacy_policy_url","hr","width","hasOptions","prettyTitle","switch","apikey","CustomChoose","setUrl","DEFAULT_VALUE","isValid","setIsValid","hostname","fullWidth","helperText","AddCustomDialog","save","isOpen","onClose","isSaveDisabled","setDisableSave","setLayer","layerUrl","setLayerUrl","choosingCustom","setChoosingCustom","onReset","Dialog","open","maxWidth","DialogTitle","DialogContent","mb","newLayer","vals","baseUrl","reduce","acc","keyPattern","RegExp","isOk","DialogActions","Button","onSave","html","text","AddUserLayerButton","setOpen","mt","size","max_zoom","maxzoom","min_zoom","minzoom","attribution","bboxes","isSatelite","fmtAttributionHtml","OutsideOfView","Tooltip","arrow","placement","WarningIcon","getIsOutsideOfView","isViewInsideBbox","BaseLayerItem","secondLine","isOutsideOfView","slice","BaseLayers","baseLayers","getAllLayers","userLayers","toLayer","osmappLayers","basemaps","overlays","startsWith","basemapLayers","PersonAdd","LayerSwitcherContent","LayersHeader","Divider","useLayerSwitcherShortcuts","downHandler","window","addEventListener","removeEventListener","opened","close","useBoolState","LayerSwitcher","panelFixed","useMediaQuery","isDesktop","LayerSwitcherButton","isOpened","SwipeableDrawer","anchor","onOpen","disableBackdropTransition","disableSwipeToOpen","pointerEvents","role","ClosePanelButton","right","top"],"sourceRoot":""}